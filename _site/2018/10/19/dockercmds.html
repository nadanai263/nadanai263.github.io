

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Docker commands</title>
    
    <meta name="author" content="Nadanai Laohakunakorn">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/themes/twitter/css/kbroman.css" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->

    <!-- atom & rss feed -->
    <link href="nil" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="nil" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container-narrow">
          <a class="brand" href="/">Nadanai Laohakunakorn</a>
          <ul class="nav">
            <li><a href="/pages/blogs.html">Blogs</a></li>
            <li><a href="/pages/science.html">Science</a></li>
            <li><a href="/pages/music.html">Music</a></li>
            <li><a href="/pages/gliding.html">Gliding</a></li>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="content">
        

<div class="page-header">
  <h1>Docker commands </h1>
</div>

<div class="row-fluid post-full">
  <div class="span12">
    <div class="date">
      <span>19 October 2018</span>
    </div>
    <div class="content">
      <p>To make a minimal Docker app, we need three files: a Dockerfile, app.py, and requirements.txt. Here is the minimal dockerfile as given in the official tutorial:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># The app contains three files: this Dockerfile, app.py, and requirements.txt
# When the Dockerfile builds into an image, app.py and requirements.txt are copied 
# into the /app subfolder. 
# Output from app.py is accessible through EXPOSE 80. 
# Use an official Python runtime as a parent image
FROM python:2.7-slim
# Set the working directory to /app
WORKDIR /app
# Copy the current directory contents into the container at /app
COPY . /app
# Install any needed packages specified in requirements.txt
RUN pip install --trusted-host pypi.python.org -r requirements.txt
# Make port 80 available to the world outside this container
EXPOSE 80
# Define environment variable
ENV NAME world
# Run app.py when the container launches
CMD ["python", "app.py"]
</code></pre></div></div>

<p>Once the directory is created, here are some useful commands:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build -t friendlyhello # Create image using this directory's Dockerfile and name it 'friendlyhello'
docker run -p 4000:80 friendlyhello # Run image, mapping machine port 4000 to output port 80
</code></pre></div></div>

<p>To upload, first login, then tag:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker login
docker tag &lt;image&gt; username/repository:tag
</code></pre></div></div>

<p>Then push:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker push username/repository:tag
</code></pre></div></div>

<p>To run from registry:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run username/repository:tag
</code></pre></div></div>

<p>To list containers and images:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker container ls -a
docker image ls -a
</code></pre></div></div>


    </div>

    

    

    <hr>
    <div class="pagination">
      <ul>
      
        <li class="prev"><a href="/2018/10/13/S20" title="Software 2.0">&larr; Previous</a></li>
      
        <li><a href="/pages/blogs.html">Archive</a></li>
      
        <li class="next disabled"><a>Next &rarr;</a>
      
      </ul>
    </div>
    <hr>
    
  </div>
</div>


      </div>
      <hr>
      <footer>
        <p><small>
  <!-- start of Karl's footer; modify this part -->
          <a href="https://creativecommons.org/publicdomain/zero/1.0/"><img src="https://i.creativecommons.org/p/zero/1.0/88x31.png" alt="CC0"/></a> &nbsp;
          <a href="http://nadanai263.github.io/">Nadanai Laohakunakorn</a>
  <!-- end of Karl's footer; modify this part -->
        </small></p>
      </footer>

    </div>

    
  </body>
</html>

